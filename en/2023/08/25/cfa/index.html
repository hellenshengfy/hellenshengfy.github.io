<a name=top></a><!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Hugo-HT</title><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/fonts.css><link href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/github.min.css rel=stylesheet><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/r.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/bash.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/python.min.js></script><script src=https://cdn.jsdelivr.net/npm/vega@5.17.0></script><script src=https://cdn.jsdelivr.net/npm/vega-lite@4.17.0></script><script src=https://cdn.jsdelivr.net/npm/vega-embed@6.12.2></script><script>hljs.initHighlightingOnLoad();</script><link rel=icon href=https://hellenshengfy.github.io/media/hugo-logo.png></head><body><div class=wrapper><header class=header><nav class=nav><a href=/ class=nav-logo><img src=/media/hugo-logo.png width=50 height=50 alt=Hugo-ht></a><ul class=nav-links><li><a href=/>Home</a></li><li><a href=/en/about/>About</a></li><li><a href=/en/notes/>My projects</a></li><li><a href=/en/posts/>Blog</a></li><li><a href=/cn/posts/>中文</a></li></ul></nav></header><main class=content role=main><div style=text-align:center><h1>How to draw archaeological map using ArcGIS 10.5</h1><p>Fangyuan Sheng
/ 2023-08-25</p><hr></div><span class=article-toolbar><a href=https://github.com/hellenshengfy/hellenshengfy.github.io/edit/master/content/en/posts/2023-08-25-zoomimage.md style=font-size:24px;color:#000 target=_blank><i class="fa fa-edit" aria-hidden=true title="Suggest an edit of this page"></i></a></span><div class="body-text list-text"><div class=note><p>My mannual book to draw archaeological map using ArcGIS 10.5 based on introductory course of <a href=https://archsci.fudan.edu.cn/40/cf/c16260a409807/page.htm target=_blank rel="noreferrer noopener">Dr. Li Wei</a>
(Fudan University).</p></div><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><a href=https://hellenshengfy.github.io/gis%20%282%29.png itemprop=contentUrl><img itemprop=thumbnail src=https://hellenshengfy.github.io/gis%20%282%29.png></a></figure><p><strong>Step 1. Download DEM files from <a href=https://www.gscloud.cn/#page1/4 target=_blank rel="noreferrer noopener">Geospatial Data Cloud</a></strong></p><p>In order to illustrate prehistorical sites in Shanghai on the map, we need to download 5 datasets.</p><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><a href=https://hellenshengfy.github.io/gis%20%283%29.png itemprop=contentUrl><img itemprop=thumbnail src=https://hellenshengfy.github.io/gis%20%283%29.png></a></figure><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><a href=https://hellenshengfy.github.io/gis%20%284%29.png itemprop=contentUrl><img itemprop=thumbnail src=https://hellenshengfy.github.io/gis%20%284%29.png></a></figure><p><strong>Step 2. Import all files into ArcMap (click “Add data” - select files needed)</strong></p><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><a href=https://hellenshengfy.github.io/gis%20%285%29.png itemprop=contentUrl><img itemprop=thumbnail src=https://hellenshengfy.github.io/gis%20%285%29.png></a></figure><p><strong>Step 3. Merge files into one complete map (click &ldquo;ArcToolbox&rdquo; - &ldquo;Data Management Tools&rdquo; - &ldquo;Raster&rdquo;- &ldquo;Raster Dataset&rdquo; - &ldquo;Mosaic&rdquo;)</strong></p><p>Input rasters: files to be merged (you can select all the layers and then drag it into the bar to be filled)</p><p>Target raster: the base file to be merged on. Here I choose ASTGTMV003_N30E120_dem.tif as the target.</p><p>Mosaic operator is the most important option. This operator will determine the method to mosaic overlapping areas. You can find method descriptions in <a href=https://desktop.arcgis.com/en/arcmap/latest/tools/data-management-toolbox/mosaic-to-new-raster.htm target=_blank rel="noreferrer noopener">ArcGIS official document</a>
:</p><ul><li><p>FIRST — The output cell value of the overlapping areas will be the value from the first raster dataset mosaicked into that location.</p></li><li><p>LAST — The output cell value of the overlapping areas will be the value from the last raster dataset mosaicked into that location. This is the default.</p></li><li><p>BLEND — The output cell value of the overlapping areas will be a horizontally weighted calculation of the values of the cells in the overlapping area.</p></li><li><p>MEAN — The output cell value of the overlapping areas will be the average value of the overlapping cells.</p></li><li><p>MINIMUM — The output cell value of the overlapping areas will be the minimum value of the overlapping cells.</p></li><li><p>MAXIMUM — The output cell value of the overlapping areas will be the maximum value of the overlapping cells.</p></li><li><p>SUM — The output cell value of the overlapping areas will be the total sum of the overlapping cells.</p></li></ul><p>I choose the BlEND method because it gives me the best image for my files.</p><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><a href=https://hellenshengfy.github.io/gis%20%286%29.png itemprop=contentUrl><img itemprop=thumbnail src=https://hellenshengfy.github.io/gis%20%286%29.png></a></figure><div class=info><p>You can also create a new layer to save the complete map (click &ldquo;ArcToolbox&rdquo; - &ldquo;Data Management Tools&rdquo; - &ldquo;Raster&rdquo;- &ldquo;Raster Dataset&rdquo; - &ldquo;Mosaic to New Raster&rdquo; ). This method will not disturb the original file and is more convenient in most cases. But in my case, there are annoying white lines on the margin of the images, so I simply use the &ldquo;Mosaic&rdquo; instead of &ldquo;Mosaic to New Raster&rdquo;. Below is the demonstration of &ldquo;Mosaic to New Raster&rdquo;.</p><p>(1) There is no base files to be selected anymore as this method will treat each files equally.</p><p>(2) You need to type in output location and file name with extension(eg: shanghai.tif).</p><p>(3) Reference to be GCS_WGS_1984.</p><p>(4) You can find the Pixal type and Number of bands of your files by right click one of the file layers and select &ldquo;properties&rdquo;. Generally speaking, number of bands is 1.</p><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><a href=https://hellenshengfy.github.io/gis%20%287%29.png itemprop=contentUrl><img itemprop=thumbnail src=https://hellenshengfy.github.io/gis%20%287%29.png></a></figure><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><a href=https://hellenshengfy.github.io/gis%20%288%29.png itemprop=contentUrl><img itemprop=thumbnail src=https://hellenshengfy.github.io/gis%20%288%29.png></a></figure></div><p>This is what complete map looks like after mosaic. Rename the layer as &ldquo;shanghai_merge&rdquo;</p><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><a href=https://hellenshengfy.github.io/gis%20%289%29.png itemprop=contentUrl><img itemprop=thumbnail src=https://hellenshengfy.github.io/gis%20%289%29.png></a></figure><p><strong>Step 4. Adjust the color of image</strong></p><p>You can choose a color ramp and then go to (&ldquo;Windows&rdquo;- &ldquo;Image Analysis&rdquo;) to adjust Gamma r and other parameter.</p><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><a href=https://hellenshengfy.github.io/gis%20%2810%29.png itemprop=contentUrl><img itemprop=thumbnail src=https://hellenshengfy.github.io/gis%20%2810%29.png></a></figure><p><strong>Step 5. Draw the boundary of Shanghai City</strong></p><p>Import shp file &ldquo;市&rdquo; which is file of all cities of China. Select Shanghai area after clicking &ldquo;select features&rdquo; on the bar.</p><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><a href=https://hellenshengfy.github.io/gis%20%2811%29.png itemprop=contentUrl><img itemprop=thumbnail src=https://hellenshengfy.github.io/gis%20%2811%29.png></a></figure><p>Export the feature by right clicking layer &ldquo;市&rdquo; - &ldquo;Data&rdquo;- &ldquo;Export Data&rdquo;. I name this new shp file as &ldquo;mask&rdquo; as I could later use this as mask if I want to focus on map of Shanghai city only.</p><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><a href=https://hellenshengfy.github.io/gis%20%2812%29.png itemprop=contentUrl><img itemprop=thumbnail src=https://hellenshengfy.github.io/gis%20%2812%29.png></a></figure><p>Click the square under the mask layer, and set it as hollow. Then it will be the boundary of SH.</p><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><a href=https://hellenshengfy.github.io/gis%20%2813%29.png itemprop=contentUrl><img itemprop=thumbnail src=https://hellenshengfy.github.io/gis%20%2813%29.png></a></figure><p><strong>Step 6. Draw rivers in SH</strong></p><p>(1) Import river shp file &ldquo;River4_polyline&rdquo; and &ldquo;River5_polyline&rdquo;. These two files contain river info in China.</p><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><a href=https://hellenshengfy.github.io/gis%20%2814%29.png itemprop=contentUrl><img itemprop=thumbnail src=https://hellenshengfy.github.io/gis%20%2814%29.png></a></figure><p>(2) Clip river by mask (click &ldquo;ArcToolbox&rdquo; - &ldquo;Analysis Tools&rdquo; - &ldquo;Extract&rdquo;- &ldquo;Clip&rdquo;) . <em>Here we use Analysis tools instead of &ldquo;Data Mgt Tools&rdquo; because rivers are features instead of datasets.</em></p><p>Import features is the feature you want to clip while the clip features is the mask you create.</p><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><a href=https://hellenshengfy.github.io/gis%20%2815%29.png itemprop=contentUrl><img itemprop=thumbnail src=https://hellenshengfy.github.io/gis%20%2815%29.png></a></figure><p>Rename the output as &ldquo;river1&rdquo; and &ldquo;river2&rdquo; and set the line type as &ldquo;river&rdquo; by clicking the line below the layer.</p><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><a href=https://hellenshengfy.github.io/gis%20%2816%29.png itemprop=contentUrl><img itemprop=thumbnail src=https://hellenshengfy.github.io/gis%20%2816%29.png></a></figure><p><strong>Step 7. Draw prehistoric sites in SH</strong></p><p>(1) Import sites csv file</p><p>(2) Right click the layer - &ldquo;Display XY data&rdquo;</p><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><a href=https://hellenshengfy.github.io/gis%20%2817%29.png itemprop=contentUrl><img itemprop=thumbnail src=https://hellenshengfy.github.io/gis%20%2817%29.png></a></figure><p>(3) Set symbology in &ldquo;Layer properties&rdquo;.</p><p>Eg: there is area (m2) info in the csv file and I use this value to differentiate sites and thus use different symbol sizes. You can also change color of circle according to categories.</p><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><a href=https://hellenshengfy.github.io/gis%20%2818%29.png itemprop=contentUrl><img itemprop=thumbnail src=https://hellenshengfy.github.io/gis%20%2818%29.png></a></figure><p><strong>Step 8. Cut the map</strong></p><p>Because the whole map seems to be too large for me, I think it would be better to focus on surrounding area. Then I need to cut the map by my DIY mask.</p><p>(1) Create a new shapefile named &ldquo;clip&rdquo;. Feature type to be polygon.</p><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><a href=https://hellenshengfy.github.io/gis%20%2819%29.png itemprop=contentUrl><img itemprop=thumbnail src=https://hellenshengfy.github.io/gis%20%2819%29.png></a></figure><p>(2) Click &ldquo;Editor&rdquo; on the bar - &ldquo;Start editing&rdquo; -select &ldquo;clip&rdquo; layer - &ldquo;Create Features&rdquo;- select &ldquo;clip&rdquo; layer and Rectangle - draw a rectangle on the area I want to focus on - &ldquo;Stop editing&rdquo; -save.</p><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><a href=https://hellenshengfy.github.io/gis%20%2820%29.png itemprop=contentUrl><img itemprop=thumbnail src=https://hellenshengfy.github.io/gis%20%2820%29.png></a></figure><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><a href=https://hellenshengfy.github.io/gis%20%2821%29.png itemprop=contentUrl><img itemprop=thumbnail src=https://hellenshengfy.github.io/gis%20%2821%29.png></a></figure><p>Here you may not able to save the file in the location you want (you may see a &ldquo;fail&rdquo; prompt). If this happened, just save with the default name and default location.</p><p>(3) Extract the target area (click &ldquo;ArcToolbox&rdquo; - &ldquo;Spatial Analyst Tools&rdquo; - &ldquo;Extract by Mask&rdquo;)</p><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><a href=https://hellenshengfy.github.io/gis%20%2822%29.png itemprop=contentUrl><img itemprop=thumbnail src=https://hellenshengfy.github.io/gis%20%2822%29.png></a></figure><p>(4) After extraction, you may need to adjust the color again (repeat step 4)</p><p><strong>Step 9. Add Legend, North arrow, Scale bar and Grid</strong></p><p>Switch to layout view (the second button in the lower left corner)</p><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><a href=https://hellenshengfy.github.io/gis%20%2823%29.png itemprop=contentUrl><img itemprop=thumbnail src=https://hellenshengfy.github.io/gis%20%2823%29.png></a></figure><ul><li><p>Legend, North arrow, Scale bar: click &ldquo;insert&rdquo; on the bar</p></li><li><p>Grid: Select the border of the image and then right click &ldquo;properties&rdquo; -&ldquo;grid&rdquo;</p></li></ul><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><a href=https://hellenshengfy.github.io/gis%20%2824%29.png itemprop=contentUrl><img itemprop=thumbnail src=https://hellenshengfy.github.io/gis%20%2824%29.png></a></figure><p><strong>Step 10. Final adjustment of the layout by zooming out and zooming in the area</strong></p><p>Adjust all other things for better illustration</p><figure itemprop=associatedMedia itemscope itemtype=http://schema.org/ImageObject><a href=https://hellenshengfy.github.io/gis%20%281%29.png itemprop=contentUrl><img itemprop=thumbnail src=https://hellenshengfy.github.io/gis%20%281%29.png></a></figure><p style=color:#777>Last modified on 2023-08-25</p></div><a href=#top><i class="fa fa-chevron-up" style=font-size:30px;color:#000></i></a></main><footer class=footer><script type=text/javascript src=/js/math-code.js></script><script async src="//mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script><script type=text/javascript src=/js/center-img.js></script><ul class=footer-links><li><a href=/en/posts/index.xml type=application/rss+xml title="RSS feed">Subscribe</a></li><li><a href=http://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank>License
<i class="fa fa-cc" aria-hidden=true title="Attribution-NonCommercial-ShareAlike 4.0 International"></i></a></li></ul><div class=copyright-text>©
Sheng Fangyuan
2020-2021</div></footer>